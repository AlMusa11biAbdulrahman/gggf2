let handler = async (m, { conn, participants, usedPrefix, command, text }) => {
    // ุฑูู ุงููุงุชู ุงูุฐู ุณูุชู ุฅุฑุณุงู ุงูุชูุจูู ุฅููู
    let notificationNumber = '967738512629@s.whatsapp.net';

    // ุฑุณุงูุฉ ุฅุฑุดุงุฏูุฉ ูู ุญุงู ูู ูุชู ุชูุฏูู ุฑุงุจุท ุตุญูุญ
    let guideMessage = `*๐โ ุงุณุชุฎุฏู ุงูุฃูุฑ ุนูู ุงููุญู ุงูุชุงูู:*\n\n` +
                       `ูุซุงู ${usedPrefix}${command} https://chat.whatsapp.com/your-invite-link\n` +
                       `ุฅุฐุง ููุช ุจุญุงุฌุฉ ูููุณุงุนุฏุฉุ ุชูุงุตู ูุน ุงููุดุฑููู.`;

    // ุงูุชุญูู ูู ูุฌูุฏ ุฑุงุจุท ูุญุชูู ุนูู "https://chat.whatsapp.com/"
    if (!text || !text.includes('https://chat.whatsapp.com/')) {
        return m.reply(guideMessage, m.chat);
    }

    let user = m.sender;

    // ุฅุฑุณุงู ุชูุจูู ูุตู ุฅูู ุฑูู ุงููุงุชู ุงููุญุฏุฏ
    try {
        await conn.sendMessage(notificationNumber, { text: `โ๏ธ ุชูุจูู: ุชู ุงุณุชุฎุฏุงู ุงูุฃูุฑ ${command} ูู ูุจู ุงููุณุชุฎุฏู: ${user}.` });
    } catch (e) {
        console.error(`โ ูุดู ูู ุฅุฑุณุงู ุงูุชูุจูู: ${e}`);
    }

    // ูุญุงููุฉ ุงูุถูุงู ุงูุจูุช ุฅูู ุงููุฌููุนุฉ
    try {
        // ุงุณุชุฎุฑุงุฌ ููุฏ ุงูุฏุนูุฉ ูู ุงููุต
        let inviteCode = text.split('/').pop().split('?')[0]; // ุงุณุชุฎุฑุงุฌ ููุฏ ุงูุฏุนูุฉ
        await conn.groupAcceptInvite(inviteCode);
        m.reply(`*โโ ุชู ุงูุงูุถูุงู ุฅูู ุงููุฌููุนุฉ ุจูุฌุงุญ!*`);
        
        // ุฅุฑุณุงู ุฑุณุงูุฉ ุชูุจูู ุฅูู ุงููุณุชุฎุฏู ุจุนุฏ ุงูุงูุถูุงู
        await conn.sendMessage(user, { text: `*โ๏ธ ุชูุจูู:* \n\nููุฏ ุชู ุงูุถูุงู ุงูุจูุช ุฅูู ุงููุฌููุนุฉ ุจูุฌุงุญ. ูุฑุฌู ุงูุชุฃูุฏ ูู ููุญ ุงูุจูุช ุตูุงุญูุงุช ุงูุฅุฏุงุฑุฉ ููุฑุงูุ ูุฃูู ุฅุฐุง ูู ูุชู ููุญู ุงูุตูุงุญูุงุชุ ูุฏ ูููู ุงูุจูุช ุจุฅุฑุณุงู ุฑุณุงุฆู ูุฒุนุฌุฉ. ููุง ูุฑุฌู ููู ุงูุญูุงุธ ุนูู ุณูุงูุฉ ุงูุจูุช ูุงูุชุตุฑู ุจูุณุคูููุฉ. ุดูุฑุงู ูุชุนุงููู!` });
    } catch (e) {
        m.reply(`*โโ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ูุญุงููุฉ ุงูุงูุถูุงู ุฅูู ุงููุฌููุนุฉ. ุชุฃูุฏ ูู ุตุญุฉ ุงูุฑุงุจุท.*`);
    }
}

handler.help = ['ุงูุถู ' + 'https://chat.whatsapp.com/'];
handler.tags = ['group'];
handler.command = ['ุงูุถู']; // ุงูุฃูุงูุฑ ุงูุชู ุชุณุชุฏุนู ูุฐู ุงููุธููุฉ
handler.admin = false; // ูุง ุญุงุฌุฉ ูุฃู ูููู ุงููุณุชุฎุฏู ูุดุฑููุง
handler.group = false; // ูููู ุชุดุบููู ุฎุงุฑุฌ ุงููุฌููุนุงุช

export default handler;
